(function(a){var b=0;a.fn.extend({collapse:function(d){var e={head:"h3",group:"div, ul",cookieName:"collapse",show:function(){this.show()},hide:function(){this.hide()}};var f=a.extend(e,d);var g="active",h="inactive";return this.each(function(){b++;var d=a(this),e=d.find(f.head).wrapInner('<a href="#"></a>'),i=e.length,j=f.cookieName+"_"+b;var k=d.find(f.head).map(function(){var b=a(this);if(!b.hasClass(g)){return b.next(f.group).hide()[0]}return b.next(f.group)[0]});d.bind("show",function(b,c){var d=a(b.target);d.attr("aria-hidden",false).prev().removeClass(h).addClass(g);if(c){d.show()}else{f.show.call(d)}});d.bind("hide",function(b,c){var d=a(b.target);d.attr("aria-hidden",true).prev().removeClass(g).addClass(h);if(c){d.hide()}else{f.hide.call(d)}});if(c){for(var l=0;l<=i;l++){var m=a.cookie(j+l);if(m==l+"open"){k.eq(l).trigger("show",[true])}else if(m==l+"closed"){k.eq(l).trigger("hide",[true])}}}d.bind("click",function(b){var d=a(b.target);if(!d.is(f.head)){if(d.parent().is(f.head)){d=d.parent()}else{return}b.preventDefault()}var h=e.index(d),i=j+h,k=h,l=d.next(f.group);if(d.hasClass(g)){l.trigger("hide");k+="closed";if(c){a.cookie(i,k,{path:"/",expires:10})}return}l.trigger("show");k+="open";if(c){a.cookie(i,k,{path:"/",expires:10})}})})}});var c=function(){try{a.cookie("x","x",{path:"/",expires:10});a.cookie("x",null)}catch(b){return false}return true}()})(jQuery)